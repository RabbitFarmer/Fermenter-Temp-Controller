/* Combined stylesheet with adjustments:
   - Column 3 on temp control config set to ~0.375in via template inline styles
   - STATUS header aligned to left margin of its column
   - Darkened the temperature control box background for better contrast on main display
   - tiltcards spacing left as last set
*/

:root{
  --page-max-width: 1340px;
  --card-width: 320px;
  --card-gap: 24px;
  --metric-number-size: 20px;
  --temp-number-size: 36px;
  --ribbon-green: #0b8a2e;
  /* Darkened panel background for clearer contrast */
  --panel-bg: #e2e6ea;   /* darker than previous #f6f8fa */
  --panel-border: #cfdbe0;
}

/* Page container */
.page-container {
  max-width: var(--page-max-width);
  margin: 0 auto;
  padding: 18px 14px 40px;
  box-sizing: border-box;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  color: #111;
}

/* Top nav: centered green links */
.config-ribbon {
  display:flex;
  justify-content:center;
  gap:22px;
  align-items:center;
  padding:8px 0;
}
.config-ribbon a {
  color: var(--ribbon-green);
  text-decoration: none;
  font-weight: 800;
  padding:6px 8px;
}
.config-ribbon a:hover { text-decoration: underline; }

/* Brewery title: centered and larger */
.dashboard-title {
  text-align:center;
  font-size:36px;
  font-weight:900;
  margin: 10px 0 18px;
}

/* Tiltcards wrapper and grid */
.tiltcards-wrapper { display:flex; justify-content:center; margin-bottom:18px; }
.tiltcard-container {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(var(--card-width), var(--card-width)));
  gap: var(--card-gap);
  justify-content: center;
  justify-items: center;
  align-items: start;
  width: 100%;
  max-width: var(--page-max-width);
  padding: 0 8px;
}

/* Tilt card appearance */
.tilt-card { width: var(--card-width); border-radius:8px; box-shadow:0 2px 6px rgba(0,0,0,0.06); background:#fff; overflow:hidden; display:flex; flex-direction:column; }
.tilt-banner { padding:14px; text-align:center; font-weight:900; font-size:18px; }
.tilt-body { padding:12px; }
.tilt-metrics.restore { width:100%; border-collapse:collapse; }
.tilt-metrics.restore th.right-header { text-align:right; font-weight:700; padding:6px; font-size:14px; }
.tilt-metrics.restore .label { color:#444; font-size:16px; padding:6px; text-align:left; vertical-align:middle; }

/* Chart page header and controls layout (keeps general header centering elsewhere) */
.chart-page-header {
  display: flex;
  align-items: center;
  gap: 12px;
  width: 100%;
  box-sizing: border-box;
}

/* Push controls to the far right inside the header */
.chart-page-header #controls {
  margin-left: auto;
  display: flex;
  gap: 8px;
  align-items: center;
}

/* Make the reload button green and consistent with site ribbon */
.chart-page-header #controls #reload {
  background: var(--ribbon-green, #0b8a2e);
  color: #fff;
  border: none;
  padding: 6px 10px;
  border-radius: 6px;
  font-weight: 700;
  cursor: pointer;
}

/* Ensure on small screens controls wrap gracefully */
@media (max-width: 700px) {
  .chart-page-header { flex-wrap: wrap; gap: 8px; }
  .chart-page-header #controls { margin-left: 0; width: 100%; justify-content: flex-start; }
}


/* Numeric values styling (uniform, bold) */
.tilt-metrics.restore .value,
.tilt-metrics.restore .value .metric-number {
  font-family: monospace;
  font-weight: 900;
  font-size: var(--metric-number-size);
  padding:6px;
  text-align:right;
  vertical-align:middle;
}
.metric-number { display:inline-block; }

/* Footer and chart pill */
.tilt-footer-colored { padding:12px; font-size:14px; position:relative; overflow:visible; }
.footer-right { position:absolute; right:10px; bottom:10px; }
.chart-link { box-shadow:0 1px 3px rgba(0,0,0,0.08); background:#fff; padding:6px 8px; border-radius:6px; font-weight:800; text-decoration:none; }

/* Temperature control box (darker background, rounded, with border) */
.temp-control-box {
  background: var(--panel-bg);
  border: 1px solid var(--panel-border);
  border-radius: 12px;
  padding: 18px 22px;
  margin: 18px auto;
  max-width: 920px;
  box-shadow: 0 2px 8px rgba(0,0,0,0.04);
}

/* inner panel layout preserved */
.temp-control-panel { width:100%; box-sizing:border-box; }
.temp-header .temp-title { font-size:20px; font-weight:900; text-align:center; margin-bottom:4px; }
.temp-header .temp-subtitle { font-size:13px; text-align:center; color:#444; margin-bottom:8px; }

/* temp grid */
.temp-grid { display:grid; grid-template-columns:1fr 1fr 1fr; gap:12px 18px; align-items:start; margin-top:12px; }
.cell { text-align:center; padding:6px; }
.temp-block-label { color:#444; font-weight:800; font-size:14px; }
.temp-block-value { color:#111; font-weight:800; font-size:16px; margin-top:6px; }
.temp-number { font-size:var(--temp-number-size); font-weight:900; font-family:monospace; display:inline-block; }
.current-big .temp-number { font-size:var(--temp-number-size); }

/* Chart page: legend box in upper-right */
.chart-legend-box {
  position: absolute;
  top: 18px;
  right: 18px;
  background: #ffffff;
  border: 1px solid rgba(0,0,0,0.06);
  box-shadow: 0 4px 18px rgba(0,0,0,0.06);
  border-radius: 8px;
  padding: 10px 12px;
  min-width: 260px;
  z-index: 30;
  display: flex;
  flex-direction: column;
  gap: 8px;
  align-items: flex-start;
  font-size: 13px;
  color: #333;
}

/* Compact rows inside legend box */
.chart-legend-row { display:flex; align-items:center; justify-content:space-between; width:100%; gap:8px; }
.chart-legend-left { display:flex; align-items:center; gap:8px; }
.legend-marker { width:14px; height:10px; border-radius:2px; display:inline-block; margin-right:6px; }

/* Make the control elements in the legend compact and green */
.chart-legend-row .controls { display:flex; gap:8px; align-items:center; }
.chart-legend-row .controls select {
  padding:6px;
  border-radius:6px;
  border:1px solid #cfe9d7;
  background:#e9f7ee;
  color:var(--ribbon-green);
}
.chart-legend-row .controls button {
  background: var(--ribbon-green);
  color: #fff;
  border: none;
  padding: 6px 10px;
  border-radius: 6px;
  font-weight: 700;
  cursor: pointer;
}

/* Title area: centered and moved down so Plotly title is main heading */
.chart-page-header-title {
  text-align: center;
  margin-top: 18px;
  margin-bottom: 6px;
  font-size: 18px;
  font-weight: 800;
  color: #222;
}

/* Space to allow absolute legend box without overlapping the chart container */
.chart-page { position: relative; padding-top: 10px; }

/* Reduce visual weight of small meta text */
.chart-meta-small { color:#666; font-size:13px; }

/* Responsive tweak: legend box moves into flow on small screens */
@media (max-width: 900px) {
  .chart-legend-box { position: relative; top: auto; right: auto; width:100%; box-shadow:none; }
  .chart-page { padding-top: 6px; }
}

/* Status colors and badges */
.status-text { font-weight:900; font-size:16px; margin-top:8px; }
.status-inrange { color:#007b00; }
.status-above { color:#c00; }
.status-below { color:#007bff; }
.badge { padding:8px 12px; border-radius:8px; font-weight:900; display:inline-block; }
.now-heating { background:#ffdada; color:#900; }
.now-cooling { background:#dff3ff; color:#0077aa; }

/* Responsive tweaks */
@media (max-width:920px) {
  :root { --temp-number-size:32px; --metric-number-size:18px; }
  .tilt-card { width:92%; }
  .temp-control-box { margin: 12px 10px; padding: 12px; }
}

/* Notification failure banner */
.notification-failure {
  background: #ffc107;
  color: #000;
  padding: 10px 16px;
  text-align: center;
  font-weight: 800;
  font-size: 14px;
  margin: 8px 0;
  border-radius: 6px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}