<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Temp Report for {{ color }}</title>
  <style>
    body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Arial; padding:18px; }
    h2 { margin-top:0; }
    .controls { margin-bottom:12px; }
    pre { font-size: 0.95em; background: #f7f7f7; border: 1px solid #ccc; padding:10px; white-space: pre-wrap; word-wrap: break-word; }
    .nav-hint { text-align:center; margin-top:12px; color:#333; font-weight:700; }
    .small { font-weight:400; font-size:0.9em; color:#555; }
  </style>

  <script>
    // Keyboard navigation:
    // - Space: go to next page (if not at_end)
    // - Backspace: go to previous page (if page > 1)
    // - Escape: return to temp config
    document.addEventListener('keydown', function(event) {
      // prevent the page jump on space when focused on the page
      if (event.code === "Space") {
        event.preventDefault();
        {% if not at_end %}
        window.location.href = "{{ url_for('temp_report') }}?tilt_color={{ color|urlencode }}&page={{ page + 1 }}";
        {% endif %}
      } else if (event.code === "Backspace") {
        // go back a page if possible
        {% if page and page > 1 %}
        event.preventDefault();
        window.location.href = "{{ url_for('temp_report') }}?tilt_color={{ color|urlencode }}&page={{ page - 1 }}";
        {% endif %}
      } else if (event.code === "Escape") {
        window.location.href = "{{ url_for('temp_config') }}";
      }
    });
  </script>
</head>
<body>
  <h2>Temp Report for {{ color }}</h2>

  <div class="controls small">
    Page {{ page }}{% if total_pages %} of {{ total_pages }}{% endif %} &middot;
    <a href="{{ url_for('temp_report') }}?tilt_color={{ color|urlencode }}&page={{ (page - 1) if page>1 else 1 }}">Prev</a>
    &nbsp;|&nbsp;
    <a href="{{ url_for('temp_report') }}?tilt_color={{ color|urlencode }}&page={{ (page + 1) if not at_end else page }}">Next</a>
    &nbsp;|&nbsp;
    <a href="{{ url_for('temp_report') }}">Select another tilt</a>
    &nbsp;|&nbsp;
    <a href="{{ url_for('temp_config') }}">Return to Configuration</a>
  </div>

  <pre>
{% if page_data %}
{% for line in page_data %}
{{ line }}
{% endfor %}
{% else %}
No log entries found for {{ color }}.
{% endif %}
  </pre>

  <div class="nav-hint">
    {% if not at_end %}<span>[Space] to continue</span>&nbsp;&nbsp;{% endif %}
    <span>[Backspace] previous</span>&nbsp;&nbsp; <span>[Esc] return</span>
  </div>
</body>
</html>